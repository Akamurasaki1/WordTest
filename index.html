<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <title>単語テスト</title>
        <style>
            body {
                font-family: sans-serif;
                background: #fafafa;
                padding: 30px;
                line-height: 1.8;
            }

            .question {
                margin-bottom: 10px;
            }

            input {
                padding: 5px;
                font-size: 16px;
                width: 200px;
                margin-left: 10px;
            }

            button {
                margin-top: 20px;
                padding: 8px 20px;
                font-size: 16px;
                cursor: pointer;
            }

            .result {
                margin-top: 30px;
                font-size: 18px;
                font-weight: bold;
            }
        </style>
    </head>

    <body>
        <h1>単語テスト</h1>
        <div id="test-area"></div>
        <button id="check">採点する</button>
        <div class="result" id="result"></div>

        <script>
            // === 問題データ ===
            const questions = [
                { q: "apple", a: "りんご" },
                { q: "dog", a: "いぬ" },
                { q: "blue", a: "あお" }
            ];

            // === HTML生成 ===
            const area = document.getElementById("test-area");
            questions.forEach((item, i) => {
                const div = document.createElement("div");
                div.className = "question";
                div.innerHTML = `${i + 1}. ${item.q} <input type="text" id="ans${i}" placeholder="答えを入力">`;
                area.appendChild(div);
            });

            // === 採点処理 ===
            document.getElementById("check").addEventListener("click", () => {
                let score = 0;
                let output = "";
                questions.forEach((item, i) => {
                    const userAns = document.getElementById(`ans${i}`).value.trim();
                    const correct = item.a.trim();
                    if (userAns === correct) score++;
                    output += `${i + 1}. ${item.q} → あなたの答え: ${userAns || "（未入力）"} ／ 正解: ${correct}<br>`;
                });
                output += `<br>正解数：${score} / ${questions.length}`;
                document.getElementById("result").innerHTML = output;
            });

            // === Enterで次に移動 ===
            document.addEventListener("keydown", e => {
                if (e.key === "Enter") {
                    const inputs = [...document.querySelectorAll("input")];
                    const idx = inputs.indexOf(document.activeElement);
                    if (idx >= 0 && idx < inputs.length - 1) {
                        inputs[idx + 1].focus();
                    } else if (idx === inputs.length - 1) {
                        document.getElementById("check").click();
                    }
                }
            });
        </script>
    </body>

</html>
